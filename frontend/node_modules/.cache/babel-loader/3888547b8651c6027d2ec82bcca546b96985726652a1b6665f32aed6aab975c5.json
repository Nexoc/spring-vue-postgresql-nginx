{"ast":null,"code":"import { normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, normalizeClass as _normalizeClass, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-dc24efec\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = [\"title\"];\nconst _hoisted_2 = [\"id\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"bar-button\", _ctx.button_class]),\n    title: _ctx.title,\n    onMousedown: _cache[2] || (_cache[2] = (...args) => $options.mousedown_handler && $options.mousedown_handler(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"color-square\",\n    style: _normalizeStyle({\n      'background-color': $options.css_color\n    })\n  }, null, 4 /* STYLE */), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"menu\", _ctx.item.menu_class]),\n    id: _ctx.item.menu_id,\n    onClick: _cache[1] || (_cache[1] = e => _ctx.item.stay_open ? e.stopPropagation() : true)\n  }, [(_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.item.type || 'compact'), {\n    modelValue: $data.color,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.color = $event)\n  }, null, 8 /* PROPS */, [\"modelValue\"]))], 10 /* CLASS, PROPS */, _hoisted_2)], 42 /* CLASS, PROPS, NEED_HYDRATION */, _hoisted_1);\n}","map":{"version":3,"names":["_createElementBlock","class","_normalizeClass","_ctx","button_class","title","onMousedown","_cache","args","$options","mousedown_handler","_createElementVNode","style","_normalizeStyle","css_color","item","menu_class","id","menu_id","onClick","e","stay_open","stopPropagation","_createBlock","_resolveDynamicComponent","type","modelValue","$data","color","$event","_hoisted_2","_hoisted_1"],"sources":["/home/nexoc/JS/frontend/frontend-vue/src/components/Bar/BarButtonColor.vue"],"sourcesContent":["<template>\n    <div class=\"bar-button\" :class=\"button_class\" :title=\"title\" @mousedown=\"mousedown_handler\">\n  \n      <div class=\"color-square\" :style=\"{ 'background-color': css_color }\"></div>\n  \n      <div class=\"menu\" :class=\"item.menu_class\" :id=\"item.menu_id\" @click=\"(e) => item.stay_open ? e.stopPropagation() : true\">\n        <component v-model=\"color\" :is=\"item.type || 'compact'\" />\n      </div>\n  \n    </div>\n  </template>\n  \n  <script>\n  import BarButtonGeneric from './BarButtonGeneric.vue'\n  import { components as VueColorComponents } from '@ckpack/vue-color'\n  \n  export default {\n    mixins: [ BarButtonGeneric ],\n    components: VueColorComponents.reduce((acc, cur) => { acc[cur.name] = cur; return acc; }, {}),\n    data () {\n      return {\n        color: this.item.color\n      }\n    },\n  \n    computed: {\n      is_menu () { return true; },\n      css_color () {\n        return this.color.hex8 || this.color || \"#000\"\n      }\n    },\n  \n    methods: {\n      mousedown_handler (e) {\n        // prevent loosing current text selection, unless the user clicks on an <input> of the color box\n        if(e.target.tagName.toLowerCase() != 'input') e.preventDefault();\n      }\n    },\n  \n    watch: {\n      \"item.color\" (item_color) {\n        if(this.color != item_color) {\n          this._prevent_next_color_update = true;\n          this.color = item_color;\n        }\n      },\n      color (new_color) {\n        if(this.item.update_color && !this._prevent_next_color_update) {\n          this.item.update_color(new_color);\n        }\n        this._prevent_next_color_update = false;\n      }\n    }\n  }\n  </script>\n  \n  <style scoped>\n  .bar-button > .color-square {\n    width: 15px;\n    height: 15px;\n    border: solid 1px rgba(0, 0, 0, 0.7);\n    margin: 0 3px;\n  }\n  .bar-button.disabled > .color-square {\n    border: solid 1px var(--bar-button-disabled-color, rgba(0, 0, 0, 0.3));\n  }\n  </style>"],"mappings":";;mBAAA;mBAAA;;uBACIA,mBAAA,CAQM;IARDC,KAAK,EADdC,eAAA,EACe,YAAY,EAASC,IAAA,CAAAC,YAAY;IAAGC,KAAK,EAAEF,IAAA,CAAAE,KAAK;IAAGC,WAAS,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,iBAAA,IAAAD,QAAA,CAAAC,iBAAA,IAAAF,IAAA,CAAiB;MAExFG,mBAAA,CAA2E;IAAtEV,KAAK,EAAC,cAAc;IAAEW,KAAK,EAHtCC,eAAA;MAAA,oBAG8DJ,QAAA,CAAAK;IAAS;2BAEjEH,mBAAA,CAEM;IAFDV,KAAK,EALhBC,eAAA,EAKiB,MAAM,EAASC,IAAA,CAAAY,IAAI,CAACC,UAAU;IAAGC,EAAE,EAAEd,IAAA,CAAAY,IAAI,CAACG,OAAO;IAAGC,OAAK,EAAAZ,MAAA,QAAAA,MAAA,MAAGa,CAAC,IAAKjB,IAAA,CAAAY,IAAI,CAACM,SAAS,GAAGD,CAAC,CAACE,eAAe;qBAC7GC,YAAA,CAA0DC,wBANlE,CAMwCrB,IAAA,CAAAY,IAAI,CAACU,IAAI;IANjDC,UAAA,EAM4BC,KAAA,CAAAC,KAAK;IANjC,uBAAArB,MAAA,QAAAA,MAAA,MAAAsB,MAAA,IAM4BF,KAAA,CAAAC,KAAK,GAAAC,MAAA;oEANjCC,UAAA,E,yCAAAC,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}