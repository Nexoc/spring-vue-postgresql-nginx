{"ast":null,"code":"import \"core-js/modules/es.array-buffer.detached.js\";\nimport \"core-js/modules/es.array-buffer.transfer.js\";\nimport \"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\";\nimport \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport axios from 'axios';\n/* eslint-disable */\nconst state = {\n  contentId: null,\n  contentAsHTML: null,\n  title: null,\n  file: null,\n  folderId: null,\n  errorContentId: null,\n  contentStatus: null,\n  requestStatus: null,\n  errorStatus: null\n};\nconst mutations = {\n  findContentById(state, contentData) {\n    //console.log('content.js -> mutation ->  findContentById')\n    state.contentStatus = null;\n    state.errorContentId = null;\n  },\n  contentStatus(state, contentId) {\n    //console.log('content.js -> mutation ->  contentStatus')\n    state.contentStatus = \"No content with ID number: \" + contentId;\n    state.errorContentId = null;\n  },\n  requestStatus(state, status) {\n    //console.log('content.js -> mutation ->  requestStatus')\n    state.requestStatus = status;\n  },\n  errorContentId(state, errorStatus, contentId) {\n    //console.log('folder.js -> mutation ->  error folder id')\n    state.errorContentId = \"Please use digits. content ID: \" + contentId + \" Request status: \" + errorStatus;\n    state.contentStatus = null;\n  },\n  findAllContents(state, contentData) {\n    console.log('content.js -> mutation ->  find');\n  },\n  updated(state, contentData) {\n    //console.log('content.js -> mutation ->  update')\n  },\n  deleteContent(state, contentData) {\n    //console.log('content.js -> mutation ->  delete')\n  },\n  insertContentData(state, contentData) {\n    console.log(\"-> content.js mutation insert content\");\n    console.log(contentData);\n    state.contentId = contentData.contentId;\n  }\n};\nconst actions = {\n  // get content's data from DB per ID\n  async findAllContents({\n    commit\n  }, content) {},\n  async findContentById({\n    commit\n  }, content) {},\n  async updateContent({\n    commit\n  }, content) {},\n  async deleteContent({\n    commit\n  }, content) {},\n  async getTextAsHTML({\n    commit\n  }, text) {\n    console.log(\"content.js -> actions -> saveTextAsHTML -> line 65\");\n    console.log(text);\n  },\n  async insertContentData({\n    commit\n  }, data) {\n    console.log(\"content.js -> actions -> insertContentData -> line 81\");\n    // Initialize your form data object with required data\n\n    // let canvasUrl = canvas.toDataURL(\"image/png\", 0.5);\n\n    console.log(\"insertContentData TEXT -> \" + data.text);\n    console.log(\"title -> \" + data.title);\n    console.log(\"folder id -> \" + data.folderId);\n    console.log(\"image \" + data.image);\n\n    // base64 image data\n    const base64Image = data.image;\n    // Convert base64 to Blob\n    const mimeType = base64Image.match(/([^;]+);/)[1];\n    const imageBlob = base64ToBlob(base64Image, mimeType);\n    const contentDto = {\n      contentId: null,\n      title: data.title,\n      content: data.text,\n      folderId: data.folderId\n    };\n    console.log(\"content.js -> actions -> insertContentData -> line 96\");\n    // let canvasUrl = data.image.toDataURL(\"image/png\", 1);\n\n    // Create a new FormData object to send\n    const formData = new FormData();\n    // key is 'contentDto' value is {}\n    formData.append('file', imageBlob, 'image.png');\n    formData.append('contentDto', JSON.stringify(contentDto));\n    console.log(\"content.js -> actions -> insertContentData -> line 105\");\n    // api/v1/users/{userId}/folders/{folderId}/contents\n    let http = \"http://localhost:8001/api/v1/contents/add-content\";\n    //let http = \"http://localhost:8001/api/v1/users/\" + 1 + \"/folders/\" + 1 + \"/contents/add-content\"\n    let response = await axios.post(http, formData).catch(error => {\n      console.error('Error during inserting the new Content: ', error);\n    });\n    let responseData = response.data;\n    console.log(\"content.js -> actions -> insertContentData -> line 115 Status \" + response.status);\n    /* \n    content.getContentId(),             id\n    content.getTitle(),                 title\n    content.getContent(),               html\n    content.getPublishedOn(),           publishedOn\n    content.getFile(),                  file filename?\n    fileUrl,                            file full url ?   \n    content.getFolder().getFolderId()   folder Id\n    */\n\n    if (response.status == 201) {\n      let contentData = {\n        \"contentId\": responseData.contentId,\n        \"title\": responseData.title,\n        \"content\": responseData.content,\n        \"publishedOn\": responseData.publishedOn,\n        \"status\": response.status\n      };\n      commit('insertContentData', contentData);\n    }\n  }\n};\nconst getters = {\n  contentId(state) {\n    return state.contentId;\n  },\n  title(state) {\n    return state.title;\n  },\n  contentAsHTML(state) {\n    return state.contentAsHTML;\n  },\n  file(state) {\n    return state.file;\n  },\n  errorContentId(state) {\n    return state.errorContentId;\n  },\n  contentStatus(state) {\n    return state.contentStatus;\n  },\n  requestStatus(state) {\n    return state.requestStatus;\n  },\n  errorStatus(state) {\n    return state.errorStatus;\n  }\n};\n\n// base64ToBlob outside the actions\nfunction base64ToBlob(base64, mime) {\n  console.log(\"content.js -> base64ToBlob -> line 167\");\n  const byteString = atob(base64.split(',')[1]);\n  const ab = new ArrayBuffer(byteString.length);\n  const ia = new Uint8Array(ab);\n  for (let i = 0; i < byteString.length; i++) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n  return new Blob([ab], {\n    type: mime\n  });\n}\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n  getters\n};","map":{"version":3,"names":["axios","state","contentId","contentAsHTML","title","file","folderId","errorContentId","contentStatus","requestStatus","errorStatus","mutations","findContentById","contentData","status","findAllContents","console","log","updated","deleteContent","insertContentData","actions","commit","content","updateContent","getTextAsHTML","text","data","image","base64Image","mimeType","match","imageBlob","base64ToBlob","contentDto","formData","FormData","append","JSON","stringify","http","response","post","catch","error","responseData","publishedOn","getters","base64","mime","byteString","atob","split","ab","ArrayBuffer","length","ia","Uint8Array","i","charCodeAt","Blob","type","namespaced"],"sources":["/home/nexoc/JS/frontend/frontend-vue/src/store/content.js"],"sourcesContent":["import axios from 'axios'\n/* eslint-disable */ \nconst state = {\n        contentId: null, \n        contentAsHTML: null,\n        title: null,  \n        file: null,            \n        folderId: null,        \n        \n        errorContentId: null,\n        contentStatus : null,\n        requestStatus: null,\n        errorStatus: null\n};\n  \nconst mutations = {\n        findContentById (state, contentData) {\n            //console.log('content.js -> mutation ->  findContentById')\n            state.contentStatus = null\n            state.errorContentId = null\n        },\n        contentStatus(state, contentId){\n            //console.log('content.js -> mutation ->  contentStatus')\n            state.contentStatus = \"No content with ID number: \" + contentId\n            state.errorContentId = null\n        },\n        requestStatus(state, status) {\n            //console.log('content.js -> mutation ->  requestStatus')\n            state.requestStatus = status\n        },\n        errorContentId(state, errorStatus, contentId){\n            //console.log('folder.js -> mutation ->  error folder id')\n            state.errorContentId = \"Please use digits. content ID: \" + contentId + \" Request status: \" + errorStatus\n            state.contentStatus = null\n        },\n        findAllContents(state, contentData) {\n            console.log('content.js -> mutation ->  find')\n        },\n\n        updated(state, contentData) {\n            //console.log('content.js -> mutation ->  update')\n        },\n        deleteContent(state, contentData){\n            //console.log('content.js -> mutation ->  delete')\n        },\n\n        insertContentData(state, contentData){\n            console.log(\"-> content.js mutation insert content\")\n            console.log(contentData)\n            state.contentId = contentData.contentId\n        }\n};\n  \nconst actions = {\n        // get content's data from DB per ID\n        async findAllContents({ commit }, content) {},\n\n        async findContentById ({ commit }, content) {},\n\n        async updateContent ({ commit }, content) {},\n\n        async deleteContent ({ commit }, content) {},\n\n        async getTextAsHTML ({ commit }, text) {\n            console.log(\"content.js -> actions -> saveTextAsHTML -> line 65\")\n            console.log(text)\n        },\n\n        async insertContentData ({ commit }, data) {\n            console.log(\"content.js -> actions -> insertContentData -> line 81\")\n            // Initialize your form data object with required data\n\n            // let canvasUrl = canvas.toDataURL(\"image/png\", 0.5);\n \n            console.log(\"insertContentData TEXT -> \" + data.text)\n            console.log(\"title -> \" + data.title)\n            console.log(\"folder id -> \" + data.folderId)\n            console.log(\"image \" + data.image)\n\n            // base64 image data\n            const base64Image = data.image; \n            // Convert base64 to Blob\n            const mimeType = base64Image.match(/([^;]+);/)[1];\n            const imageBlob = base64ToBlob(base64Image, mimeType);\n\n            const contentDto = {\n                contentId: null,\n                title: data.title,                \n                content: data.text,\n                folderId: data.folderId\n            };            \n\n            console.log(\"content.js -> actions -> insertContentData -> line 96\")\n            // let canvasUrl = data.image.toDataURL(\"image/png\", 1);\n            \n            // Create a new FormData object to send\n            const formData = new FormData();\n            // key is 'contentDto' value is {}\n            formData.append('file', imageBlob, 'image.png');\n            formData.append('contentDto', JSON.stringify(contentDto));\n            \n            console.log(\"content.js -> actions -> insertContentData -> line 105\")\n                // api/v1/users/{userId}/folders/{folderId}/contents\n            let http = \"http://localhost:8001/api/v1/contents/add-content\"\n            //let http = \"http://localhost:8001/api/v1/users/\" + 1 + \"/folders/\" + 1 + \"/contents/add-content\"\n            let response = await axios.post(http, formData)\n                .catch(error => {\n                        console.error('Error during inserting the new Content: ', error);\n                                })\n\n            let responseData = response.data;\n            console.log(\"content.js -> actions -> insertContentData -> line 115 Status \" + response.status)\n            /* \n            content.getContentId(),             id\n            content.getTitle(),                 title\n            content.getContent(),               html\n            content.getPublishedOn(),           publishedOn\n            content.getFile(),                  file filename?\n            fileUrl,                            file full url ?   \n            content.getFolder().getFolderId()   folder Id\n            */\n\n\n\n            if (response.status == 201) {    \n                let contentData = {\n                        \"contentId\": responseData.contentId,\n                        \"title\": responseData.title,\n                        \"content\": responseData.content,\n                        \"publishedOn\": responseData.publishedOn,\n                        \"status\": response.status,\n                        \n                    }       \n                commit('insertContentData', contentData)     \n            }\n        },\n};\n  \nconst getters = {\n        contentId (state) {\n            return state.contentId                     \n        },\n        title(state) {\n            return state.title\n        },\n        contentAsHTML(state) {\n            return state.contentAsHTML\n        },\n        file(state) {\n            return state.file\n        },\n        errorContentId(state) {\n            return state.errorContentId\n        },\n        contentStatus(state) {\n            return state.contentStatus\n        },\n        requestStatus(state) {\n            return state.requestStatus\n        },\n        errorStatus(state) {\n            return state.errorStatus\n        },\n};\n  \n// base64ToBlob outside the actions\nfunction base64ToBlob(base64, mime) {\n    console.log(\"content.js -> base64ToBlob -> line 167\");\n    const byteString = atob(base64.split(',')[1]);\n    const ab = new ArrayBuffer(byteString.length);\n    const ia = new Uint8Array(ab);\n    for (let i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], { type: mime });\n}\n\nexport default {\n        namespaced: true,\n        state,\n        mutations,\n        actions,\n        getters,\n};\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}