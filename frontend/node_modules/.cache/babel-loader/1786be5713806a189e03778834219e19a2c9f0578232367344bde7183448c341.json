{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"toolbar\"\n};\nconst _hoisted_4 = {\n  class: \"draw\"\n};\nconst _hoisted_5 = {\n  id: \"save\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"button\", {\n  id: \"saveButton\",\n  class: \"styled-button\"\n}, \"Save\", -1 /* HOISTED */);\nconst _hoisted_7 = [_hoisted_6];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Bar = _resolveComponent(\"Bar\");\n  const _component_Draw = _resolveComponent(\"Draw\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_Bar, {\n    ref: \"toolbar\"\n  }, null, 512 /* NEED_PATCH */)]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_Draw, {\n    ref: \"draw\"\n  }, null, 512 /* NEED_PATCH */)])]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"form\", {\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.handleInsertContentData && $options.handleInsertContentData(...args), [\"prevent\"]))\n  }, [..._hoisted_7], 32 /* NEED_HYDRATION */)])]);\n}","map":{"version":3,"names":["class","id","_createElementVNode","_hoisted_6","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_Bar","ref","_hoisted_4","_component_Draw","_hoisted_5","onSubmit","_cache","_withModifiers","args","$options","handleInsertContentData","_hoisted_7"],"sources":["/home/nexoc/JS/frontend/frontend-vue/src/views/CreateNewContent.vue"],"sourcesContent":["<template>\n\n<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"toolbar\">\n            <Bar ref=\"toolbar\" />\n        </div>\n        <div class=\"draw\">\n            <Draw ref=\"draw\" />\n        </div>\n    </div>\n    <div id=\"save\">\n        <form @submit.prevent=\"handleInsertContentData\">\n            <button id=\"saveButton\" class=\"styled-button\">Save</button>\n        </form>\n    </div>\n</div>\n\n</template>\n    \n<script>\n  import Bar from '@/components/Bar/toolbar-menu/ToolBar.vue'\n  import Draw from '@/components/draw/DrawCanvas.vue'\n  import { mapActions, mapGetters } from 'vuex';\n\n    export default {\n      setup() {\n        return {  }\n      },\n      components: { Bar, Draw },\n\n      computed: {  \n            ...mapGetters({\n                    requestStatus: 'folder/requestStatus', \n                    contentRequestStatus: 'content/requestStatus',                   \n            }),\n            \n        },\n\n      methods: {         \n          \n        ...mapActions('content', ['insertContentData', 'updateContentData']),\n\n          async handleInsertContentData() {\n              const data = this.$refs.toolbar.textSave();\n              const canvas = this.$refs.draw.saveImage(); \n\n              const dataAll = {                                            \n                \"text\": data.text,\n                \"title\": data.title,\n                \"folderId\": data.folderId,\n                \"image\": canvas.image,\n                \"contentId\": canvas.contentId,  \n              }\n\n              if(canvas.toBeUpdated) {                  \n                  await this.updateContentData(dataAll);\n              } else {\n                  await this.insertContentData(dataAll);\n              }               \n              if (this.contentRequestStatus == 201) {                \n                  // this.$store.dispatch('folder/getContents', userIdAndFolderIdData)\n                  this.$router.push('/show') \n              }          \n          },\n      },\n}\n</script>\n\n\n"],"mappings":";;EAEKA,KAAK,EAAC;AAAW;;EACbA,KAAK,EAAC;AAAQ;;EACVA,KAAK,EAAC;AAAS;;EAGfA,KAAK,EAAC;AAAM;;EAIhBC,EAAE,EAAC;AAAM;gCAENC,mBAAA,CAA2D;EAAnDD,EAAE,EAAC,YAAY;EAACD,KAAK,EAAC;GAAgB,MAAI;oBAAlDG,UAA2D,C;;;;uBAXvEC,mBAAA,CAcM,OAdNC,UAcM,GAbFH,mBAAA,CAOM,OAPNI,UAOM,GANFJ,mBAAA,CAEM,OAFNK,UAEM,GADFC,YAAA,CAAqBC,cAAA;IAAhBC,GAAG,EAAC;EAAS,+B,GAEtBR,mBAAA,CAEM,OAFNS,UAEM,GADFH,YAAA,CAAmBI,eAAA;IAAbF,GAAG,EAAC;EAAM,+B,KAGxBR,mBAAA,CAIM,OAJNW,UAIM,GAHFX,mBAAA,CAEO;IAFAY,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAZrBC,cAAA,KAAAC,IAAA,KAY+BC,QAAA,CAAAC,uBAAA,IAAAD,QAAA,CAAAC,uBAAA,IAAAF,IAAA,CAAuB;KAZtD,IAAAG,UAAA,4B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}