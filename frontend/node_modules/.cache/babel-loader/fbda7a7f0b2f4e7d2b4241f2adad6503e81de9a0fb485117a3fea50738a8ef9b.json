{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Bar from '@/components/Bar/toolbar-menu/ToolBar.vue';\nimport Draw from '@/components/draw/DrawCanvas.vue';\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  setup() {\n    return {};\n  },\n  components: {\n    Bar,\n    Draw\n  },\n  computed: {\n    ...mapGetters({\n      authenticated: 'auth/authenticated',\n      userId: 'auth/userId',\n      requestStatus: 'folder/requestStatus',\n      folderId: 'folder/folderId',\n      folderTitle: 'folder/title',\n      contents: \"folder/contents\"\n    }),\n    ...mapActions('content', ['insertContentData', 'updateContentData'])\n  },\n  methods: {\n    async handleInsertContentData() {\n      // console.log(\"dashBoard.vue -> methods -> handleInsertContentData 36\")\n      const data = this.$refs.toolbar.textSave();\n      const canvas = this.$refs.draw.saveImage();\n      const dataAll = {\n        \"text\": data.text,\n        \"title\": data.title,\n        \"folderId\": data.folderId,\n        \"image\": canvas.image,\n        \"contentId\": canvas.contentId\n      };\n      if (canvas.toBeUpdated) {\n        await this.updateContentData(dataAll);\n      } else {\n        await this.insertContentData(dataAll);\n      }\n      if (this.requestStatus >= 200 && this.requestStatus <= 300) {\n        console.log(\"CreateNewContent.vue -> methods -> insaertContentData -> this.requestStatus: \" + this.requestStatus);\n        this.$store.dispatch('folder/getContents', data);\n        this.$router.push('/show');\n      }\n    }\n  }\n};","map":{"version":3,"names":["Bar","Draw","mapActions","mapGetters","setup","components","computed","authenticated","userId","requestStatus","folderId","folderTitle","contents","methods","handleInsertContentData","data","$refs","toolbar","textSave","canvas","draw","saveImage","dataAll","text","title","image","contentId","toBeUpdated","updateContentData","insertContentData","console","log","$store","dispatch","$router","push"],"sources":["/home/nexoc/JS/frontend/frontend-vue/src/views/CreateNewContent.vue"],"sourcesContent":["<template>\n  \n  <table>\n  <tr>\n    <th>  <Bar ref=\"toolbar\" />   </th>\n    <th>  <Draw ref=\"draw\"/>  </th>\n  </tr>\n\n    <div id=\"save\">\n        <form @submit.prevent=\"handleInsertContentData\">\n\n          <button id='saveButton'>Save</button>          \n\n        </form>\n      </div>\n\n</table>   \n  \n</template>\n    \n<script>\nimport Bar from '@/components/Bar/toolbar-menu/ToolBar.vue'\nimport Draw from '@/components/draw/DrawCanvas.vue'\nimport { mapActions, mapGetters } from 'vuex';\n\n    export default {\n      setup() {\n        return {  }\n      },\n      components: { Bar, Draw },\n\n      computed: {  \n            ...mapGetters({\n                    authenticated: 'auth/authenticated',\n                    userId: 'auth/userId',\n                    requestStatus: 'folder/requestStatus',\n                    folderId: 'folder/folderId',\n                    folderTitle: 'folder/title',\n                    contents: \"folder/contents\",\n            }),\n            ...mapActions('content', ['insertContentData', 'updateContentData']),\n        },\n\n      methods: {         \n          \n          async handleInsertContentData() {\n              // console.log(\"dashBoard.vue -> methods -> handleInsertContentData 36\")\n              const data = this.$refs.toolbar.textSave();\n              const canvas = this.$refs.draw.saveImage(); \n\n              const dataAll = {                                            \n                \"text\": data.text,\n                \"title\": data.title,\n                \"folderId\": data.folderId,\n                \"image\": canvas.image,\n                \"contentId\": canvas.contentId,  \n              }\n\n              if(canvas.toBeUpdated) {                  \n                  await this.updateContentData(dataAll);\n              } else {\n                  await this.insertContentData(dataAll);\n              } \n               \n              if (this.requestStatus >= 200 && this.requestStatus <= 300) {\n                  console.log(\"CreateNewContent.vue -> methods -> insaertContentData -> this.requestStatus: \" + this.requestStatus)\n\n                  this.$store.dispatch('folder/getContents', data)\n                  this.$router.push('/show') \n              }  \n              \n          },\n\n      },\n}\n</script>\n\n<style>\n    #save{\n        margin-left: 100px;\n    }\n\n\n</style>\n"],"mappings":";AAqBA,OAAOA,GAAE,MAAO,2CAA0C;AAC1D,OAAOC,IAAG,MAAO,kCAAiC;AAClD,SAASC,UAAU,EAAEC,UAAS,QAAS,MAAM;AAEzC,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,OAAO,CAAG;EACZ,CAAC;EACDC,UAAU,EAAE;IAAEL,GAAG;IAAEC;EAAK,CAAC;EAEzBK,QAAQ,EAAE;IACJ,GAAGH,UAAU,CAAC;MACNI,aAAa,EAAE,oBAAoB;MACnCC,MAAM,EAAE,aAAa;MACrBC,aAAa,EAAE,sBAAsB;MACrCC,QAAQ,EAAE,iBAAiB;MAC3BC,WAAW,EAAE,cAAc;MAC3BC,QAAQ,EAAE;IAClB,CAAC,CAAC;IACF,GAAGV,UAAU,CAAC,SAAS,EAAE,CAAC,mBAAmB,EAAE,mBAAmB,CAAC;EACvE,CAAC;EAEHW,OAAO,EAAE;IAEL,MAAMC,uBAAuBA,CAAA,EAAG;MAC5B;MACA,MAAMC,IAAG,GAAI,IAAI,CAACC,KAAK,CAACC,OAAO,CAACC,QAAQ,CAAC,CAAC;MAC1C,MAAMC,MAAK,GAAI,IAAI,CAACH,KAAK,CAACI,IAAI,CAACC,SAAS,CAAC,CAAC;MAE1C,MAAMC,OAAM,GAAI;QACd,MAAM,EAAEP,IAAI,CAACQ,IAAI;QACjB,OAAO,EAAER,IAAI,CAACS,KAAK;QACnB,UAAU,EAAET,IAAI,CAACL,QAAQ;QACzB,OAAO,EAAES,MAAM,CAACM,KAAK;QACrB,WAAW,EAAEN,MAAM,CAACO;MACtB;MAEA,IAAGP,MAAM,CAACQ,WAAW,EAAE;QACnB,MAAM,IAAI,CAACC,iBAAiB,CAACN,OAAO,CAAC;MACzC,OAAO;QACH,MAAM,IAAI,CAACO,iBAAiB,CAACP,OAAO,CAAC;MACzC;MAEA,IAAI,IAAI,CAACb,aAAY,IAAK,GAAE,IAAK,IAAI,CAACA,aAAY,IAAK,GAAG,EAAE;QACxDqB,OAAO,CAACC,GAAG,CAAC,+EAA8E,GAAI,IAAI,CAACtB,aAAa;QAEhH,IAAI,CAACuB,MAAM,CAACC,QAAQ,CAAC,oBAAoB,EAAElB,IAAI;QAC/C,IAAI,CAACmB,OAAO,CAACC,IAAI,CAAC,OAAO;MAC7B;IAEJ;EAEJ;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}