{"ast":null,"code":"import BarButtonGeneric from './BarButtonGeneric.vue';\nimport { components as VueColorComponents } from '@ckpack/vue-color';\nexport default {\n  mixins: [BarButtonGeneric],\n  components: VueColorComponents.reduce((acc, cur) => {\n    acc[cur.name] = cur;\n    return acc;\n  }, {}),\n  data() {\n    return {\n      color: this.item.color\n    };\n  },\n  computed: {\n    is_menu() {\n      return true;\n    },\n    css_color() {\n      return this.color.hex8 || this.color || \"#000\";\n    }\n  },\n  methods: {\n    mousedown_handler(e) {\n      // prevent loosing current text selection, unless the user clicks on an <input> of the color box\n      if (e.target.tagName.toLowerCase() != 'input') e.preventDefault();\n    }\n  },\n  watch: {\n    \"item.color\"(item_color) {\n      if (this.color != item_color) {\n        this._prevent_next_color_update = true;\n        this.color = item_color;\n      }\n    },\n    color(new_color) {\n      if (this.item.update_color && !this._prevent_next_color_update) {\n        this.item.update_color(new_color);\n      }\n      this._prevent_next_color_update = false;\n    }\n  }\n};","map":{"version":3,"names":["BarButtonGeneric","components","VueColorComponents","mixins","reduce","acc","cur","name","data","color","item","computed","is_menu","css_color","hex8","methods","mousedown_handler","e","target","tagName","toLowerCase","preventDefault","watch","item.color","item_color","_prevent_next_color_update","new_color","update_color"],"sources":["/home/nexoc/JS/frontend/frontend-vue/src/components/Bar/BarButtonColor.vue"],"sourcesContent":["<template>\n    <div class=\"bar-button\" :class=\"button_class\" :title=\"title\" @mousedown=\"mousedown_handler\">\n  \n      <div class=\"color-square\" :style=\"{ 'background-color': css_color }\"></div>\n  \n      <div class=\"menu\" :class=\"item.menu_class\" :id=\"item.menu_id\" @click=\"(e) => item.stay_open ? e.stopPropagation() : true\">\n        <component v-model=\"color\" :is=\"item.type || 'compact'\" />\n      </div>\n  \n    </div>\n  </template>\n  \n  <script>\n  import BarButtonGeneric from './BarButtonGeneric.vue'\n  import { components as VueColorComponents } from '@ckpack/vue-color'\n  \n  export default {\n    mixins: [ BarButtonGeneric ],\n    components: VueColorComponents.reduce((acc, cur) => { acc[cur.name] = cur; return acc; }, {}),\n    data () {\n      return {\n        color: this.item.color\n      }\n    },\n  \n    computed: {\n      is_menu () { return true; },\n      css_color () {\n        return this.color.hex8 || this.color || \"#000\"\n      }\n    },\n  \n    methods: {\n      mousedown_handler (e) {\n        // prevent loosing current text selection, unless the user clicks on an <input> of the color box\n        if(e.target.tagName.toLowerCase() != 'input') e.preventDefault();\n      }\n    },\n  \n    watch: {\n      \"item.color\" (item_color) {\n        if(this.color != item_color) {\n          this._prevent_next_color_update = true;\n          this.color = item_color;\n        }\n      },\n      color (new_color) {\n        if(this.item.update_color && !this._prevent_next_color_update) {\n          this.item.update_color(new_color);\n        }\n        this._prevent_next_color_update = false;\n      }\n    }\n  }\n  </script>\n  \n  <style scoped>\n  .bar-button > .color-square {\n    width: 15px;\n    height: 15px;\n    border: solid 1px rgba(0, 0, 0, 0.7);\n    margin: 0 3px;\n  }\n  .bar-button.disabled > .color-square {\n    border: solid 1px var(--bar-button-disabled-color, rgba(0, 0, 0, 0.3));\n  }\n  </style>"],"mappings":"AAaE,OAAOA,gBAAe,MAAO,wBAAuB;AACpD,SAASC,UAAS,IAAKC,kBAAiB,QAAS,mBAAkB;AAEnE,eAAe;EACbC,MAAM,EAAE,CAAEH,gBAAe,CAAG;EAC5BC,UAAU,EAAEC,kBAAkB,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;IAAED,GAAG,CAACC,GAAG,CAACC,IAAI,IAAID,GAAG;IAAE,OAAOD,GAAG;EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EAC7FG,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,KAAK,EAAE,IAAI,CAACC,IAAI,CAACD;IACnB;EACF,CAAC;EAEDE,QAAQ,EAAE;IACRC,OAAMA,CAAA,EAAK;MAAE,OAAO,IAAI;IAAE,CAAC;IAC3BC,SAAQA,CAAA,EAAK;MACX,OAAO,IAAI,CAACJ,KAAK,CAACK,IAAG,IAAK,IAAI,CAACL,KAAI,IAAK,MAAK;IAC/C;EACF,CAAC;EAEDM,OAAO,EAAE;IACPC,iBAAgBA,CAAGC,CAAC,EAAE;MACpB;MACA,IAAGA,CAAC,CAACC,MAAM,CAACC,OAAO,CAACC,WAAW,CAAC,KAAK,OAAO,EAAEH,CAAC,CAACI,cAAc,CAAC,CAAC;IAClE;EACF,CAAC;EAEDC,KAAK,EAAE;IACL,YAAWC,CAAGC,UAAU,EAAE;MACxB,IAAG,IAAI,CAACf,KAAI,IAAKe,UAAU,EAAE;QAC3B,IAAI,CAACC,0BAAyB,GAAI,IAAI;QACtC,IAAI,CAAChB,KAAI,GAAIe,UAAU;MACzB;IACF,CAAC;IACDf,KAAIA,CAAGiB,SAAS,EAAE;MAChB,IAAG,IAAI,CAAChB,IAAI,CAACiB,YAAW,IAAK,CAAC,IAAI,CAACF,0BAA0B,EAAE;QAC7D,IAAI,CAACf,IAAI,CAACiB,YAAY,CAACD,SAAS,CAAC;MACnC;MACA,IAAI,CAACD,0BAAyB,GAAI,KAAK;IACzC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}