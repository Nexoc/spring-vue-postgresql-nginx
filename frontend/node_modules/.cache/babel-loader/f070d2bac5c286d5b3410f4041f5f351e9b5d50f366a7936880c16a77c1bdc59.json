{"ast":null,"code":"import hotkeys from 'hotkeys-js';\nhotkeys.filter = function () {\n  return true;\n}; // allow hotkeys from every element\n\nexport default {\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    isMacLike: () => /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),\n    hotkey() {\n      let s = this.item.hotkey;\n      if (typeof s != \"string\") return false;\n      s = s.toUpperCase();\n      s = s.replace(/(shift|⇧)\\+/ig, this.isMacLike ? \"⇧\" : \"Shift+\");\n      s = s.replace(/(control|ctrl|⌃)\\+/ig, this.isMacLike ? \"⌃\" : \"Ctrl+\");\n      s = s.replace(/(option|alt|⌥)\\+/ig, this.isMacLike ? \"⌥\" : \"Alt+\");\n      s = s.replace(/(cmd|command|⌘)\\+/ig, this.isMacLike ? \"⌘\" : \"Cmd+\");\n      return s;\n    }\n  },\n  methods: {\n    update_hotkey(new_hotkey, old_hotkey) {\n      if (old_hotkey) hotkeys.unbind(old_hotkey, this.hotkey_fn);\n      if (new_hotkey) hotkeys(new_hotkey, this.hotkey_fn);\n    },\n    hotkey_fn(event, handler) {\n      event.preventDefault();\n      if (this.item.click && !this.item.disabled) this.item.click(event, handler);\n    }\n  },\n  watch: {\n    \"item.hotkey\": {\n      handler: \"update_hotkey\",\n      immediate: true\n    }\n  },\n  beforeUnmount() {\n    if (this.item.hotkey) hotkeys.unbind(this.item.hotkey, this.hotkey_fn);\n  }\n};","map":{"version":3,"names":["hotkeys","filter","props","item","type","Object","required","computed","isMacLike","test","navigator","platform","hotkey","s","toUpperCase","replace","methods","update_hotkey","new_hotkey","old_hotkey","unbind","hotkey_fn","event","handler","preventDefault","click","disabled","watch","immediate","beforeUnmount"],"sources":["/home/nexoc/JS/frontend/frontend-vue/src/components/Bar/imports/bar-hotkey-manager.js"],"sourcesContent":["import hotkeys from 'hotkeys-js'\n\nhotkeys.filter = function(){ return true; } // allow hotkeys from every element\n\nexport default {\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  },\n\n  computed: {\n    isMacLike: () => /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),\n    hotkey () {\n      let s = this.item.hotkey;\n      if(typeof s != \"string\") return false;\n      s = s.toUpperCase();\n      s = s.replace(/(shift|⇧)\\+/ig, this.isMacLike ? \"⇧\" : \"Shift+\");\n      s = s.replace(/(control|ctrl|⌃)\\+/ig, this.isMacLike ? \"⌃\" : \"Ctrl+\");\n      s = s.replace(/(option|alt|⌥)\\+/ig, this.isMacLike ? \"⌥\" : \"Alt+\");\n      s = s.replace(/(cmd|command|⌘)\\+/ig, this.isMacLike ? \"⌘\" : \"Cmd+\");\n      return s;\n    },\n  },\n\n  methods: {\n    update_hotkey (new_hotkey, old_hotkey) {\n      if(old_hotkey) hotkeys.unbind(old_hotkey, this.hotkey_fn);\n      if(new_hotkey) hotkeys(new_hotkey, this.hotkey_fn);\n    },\n    hotkey_fn (event, handler) {\n      event.preventDefault();\n      if(this.item.click && !this.item.disabled) this.item.click(event, handler);\n    }\n  },\n\n  watch: {\n    \"item.hotkey\": {\n      handler: \"update_hotkey\",\n      immediate: true\n    }\n  },\n\n  beforeUnmount () {\n    if(this.item.hotkey) hotkeys.unbind(this.item.hotkey, this.hotkey_fn);\n  }\n}"],"mappings":"AAAA,OAAOA,OAAO,MAAM,YAAY;AAEhCA,OAAO,CAACC,MAAM,GAAG,YAAU;EAAE,OAAO,IAAI;AAAE,CAAC,EAAC;;AAE5C,eAAe;EACbC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EAEDC,QAAQ,EAAE;IACRC,SAAS,EAAEA,CAAA,KAAM,yBAAyB,CAACC,IAAI,CAACC,SAAS,CAACC,QAAQ,CAAC;IACnEC,MAAMA,CAAA,EAAI;MACR,IAAIC,CAAC,GAAG,IAAI,CAACV,IAAI,CAACS,MAAM;MACxB,IAAG,OAAOC,CAAC,IAAI,QAAQ,EAAE,OAAO,KAAK;MACrCA,CAAC,GAAGA,CAAC,CAACC,WAAW,CAAC,CAAC;MACnBD,CAAC,GAAGA,CAAC,CAACE,OAAO,CAAC,eAAe,EAAE,IAAI,CAACP,SAAS,GAAG,GAAG,GAAG,QAAQ,CAAC;MAC/DK,CAAC,GAAGA,CAAC,CAACE,OAAO,CAAC,sBAAsB,EAAE,IAAI,CAACP,SAAS,GAAG,GAAG,GAAG,OAAO,CAAC;MACrEK,CAAC,GAAGA,CAAC,CAACE,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAACP,SAAS,GAAG,GAAG,GAAG,MAAM,CAAC;MAClEK,CAAC,GAAGA,CAAC,CAACE,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAACP,SAAS,GAAG,GAAG,GAAG,MAAM,CAAC;MACnE,OAAOK,CAAC;IACV;EACF,CAAC;EAEDG,OAAO,EAAE;IACPC,aAAaA,CAAEC,UAAU,EAAEC,UAAU,EAAE;MACrC,IAAGA,UAAU,EAAEnB,OAAO,CAACoB,MAAM,CAACD,UAAU,EAAE,IAAI,CAACE,SAAS,CAAC;MACzD,IAAGH,UAAU,EAAElB,OAAO,CAACkB,UAAU,EAAE,IAAI,CAACG,SAAS,CAAC;IACpD,CAAC;IACDA,SAASA,CAAEC,KAAK,EAAEC,OAAO,EAAE;MACzBD,KAAK,CAACE,cAAc,CAAC,CAAC;MACtB,IAAG,IAAI,CAACrB,IAAI,CAACsB,KAAK,IAAI,CAAC,IAAI,CAACtB,IAAI,CAACuB,QAAQ,EAAE,IAAI,CAACvB,IAAI,CAACsB,KAAK,CAACH,KAAK,EAAEC,OAAO,CAAC;IAC5E;EACF,CAAC;EAEDI,KAAK,EAAE;IACL,aAAa,EAAE;MACbJ,OAAO,EAAE,eAAe;MACxBK,SAAS,EAAE;IACb;EACF,CAAC;EAEDC,aAAaA,CAAA,EAAI;IACf,IAAG,IAAI,CAAC1B,IAAI,CAACS,MAAM,EAAEZ,OAAO,CAACoB,MAAM,CAAC,IAAI,CAACjB,IAAI,CAACS,MAAM,EAAE,IAAI,CAACS,SAAS,CAAC;EACvE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}