{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"save\",\n  property: \"margin:50px\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"button\", {\n  id: \"saveButton\"\n}, \"Save\", -1 /* HOISTED */);\nconst _hoisted_3 = [_hoisted_2];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Bar = _resolveComponent(\"Bar\");\n  const _component_Draw = _resolveComponent(\"Draw\");\n  return _openBlock(), _createElementBlock(\"table\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, [_createVNode(_component_Bar, {\n    ref: \"toolbar\"\n  }, null, 512 /* NEED_PATCH */)]), _createElementVNode(\"th\", null, [_createVNode(_component_Draw, {\n    ref: \"draw\"\n  }, null, 512 /* NEED_PATCH */)])]), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"form\", {\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.handleInsertContentData && $options.handleInsertContentData(...args), [\"prevent\"]))\n  }, [..._hoisted_3], 32 /* NEED_HYDRATION */)])]);\n}","map":{"version":3,"names":["id","property","_createElementVNode","_hoisted_2","_createElementBlock","_createVNode","_component_Bar","ref","_component_Draw","_hoisted_1","onSubmit","_cache","_withModifiers","args","$options","handleInsertContentData","_hoisted_3"],"sources":["/home/nexoc/JS/frontend/frontend-vue/src/views/DashBoard.vue"],"sourcesContent":["<template>\n  \n  <table>\n  <tr>\n    <th>  <Bar ref=\"toolbar\" />   </th>\n    <th>  <Draw ref=\"draw\"/>  </th>\n  </tr>\n\n    <div id=\"save\" property=\"margin:50px\">\n        <form @submit.prevent=\"handleInsertContentData\">\n\n          <button id='saveButton'>Save</button>          \n\n        </form>\n      </div>\n\n</table>   \n  \n</template>\n    \n<script>\nimport Bar from '@/components/Bar/toolbar-menu/ToolBar.vue'\nimport Draw from '@/components/draw/DrawCanvas.vue'\nimport { mapActions } from 'vuex';\n\n    export default {\n      setup() {\n        return {  }\n      },\n      components: { Bar, Draw },\n\n      methods: {\n          ...mapActions('content', ['insertContentData']),\n          \n          async handleInsertContentData() {\n              console.log(\"dashBoard.vue -> methods -> handleInsertContentData 36\")\n              const data = this.$refs.toolbar.textSave();\n              const canvas = this.$refs.draw.saveImage(); \n              console.log(canvas)\n\n\n\n              const w = await canvas.createWritable();\n              await w.write( canvas.toDataURL('image/png') );\n              await w.close();\n\n              await w.write( _base64ToArrayBuffer(canvas.toDataURL('image/png').substring(22)));\n              // let image = canvas.toDataURL(\"image/png\", 1).substring(22); \n\n\n         function _base64ToArrayBuffer(base64) {\n              var binary_string = window.atob(base64);\n              var len = binary_string.length;\n              var bytes = new Uint8Array(len);\n              for (var i = 0; i < len; i++) {\n                  bytes[i] = binary_string.charCodeAt(i);\n              }\n              return bytes.buffer;\n}     \n\n///////////////\n\n\n\n              \n              const dataAll = {\n                \"text\": data.text,\n                \"title\": data.title,\n                \"folderId\": data.folderId,\n                \"image\": image\n              }\n              console.log(\"dataAll: \" + dataAll)  \n              console.log(\"TEXT -> \" + dataAll.text)\n              console.log(\"title -> \" + dataAll.title)\n              console.log(\"folder id -> \" + dataAll.folderId)\n              console.log(\"image \" + dataAll.image)   \n\n\n              await this.insertContentData(data, image);\n          },\n      },\n}\n</script>\n\n<style>\n\n</style>\n\n"],"mappings":";;EAQSA,EAAE,EAAC,MAAM;EAACC,QAAQ,EAAC;;gCAGlBC,mBAAA,CAAqC;EAA7BF,EAAE,EAAC;AAAY,GAAC,MAAI;oBAA5BG,UAAqC,C;;;;uBAT7CC,mBAAA,CAcM,gBAbNF,mBAAA,CAGK,aAFHA,mBAAA,CAAmC,aAA7BG,YAAA,CAAqBC,cAAA;IAAhBC,GAAG,EAAC;EAAS,+B,GACxBL,mBAAA,CAA+B,aAAzBG,YAAA,CAAkBG,eAAA;IAAZD,GAAG,EAAC;EAAM,+B,KAGtBL,mBAAA,CAMQ,OANRO,UAMQ,GALJP,mBAAA,CAIO;IAJAQ,QAAM,EAAAC,MAAA,QAAAA,MAAA,MATrBC,cAAA,KAAAC,IAAA,KAS+BC,QAAA,CAAAC,uBAAA,IAAAD,QAAA,CAAAC,uBAAA,IAAAF,IAAA,CAAuB;KATtD,IAAAG,UAAA,4B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}